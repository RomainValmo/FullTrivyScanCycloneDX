#!/bin/bash
# Commandes de test rapides - Cheat Sheet

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘          COMMANDES DE TEST - CHEAT SHEET                      â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ“¦ INSTALLATION"
echo "  make install                    # Installer dÃ©pendances"
echo "  pip install -r requirements-dev.txt"
echo ""
echo "ğŸ§ª TESTS"
echo "  make test                       # Tous les tests"
echo "  make test-unit                  # Tests unitaires uniquement"
echo "  make test-integration           # Tests d'intÃ©gration uniquement"
echo "  pytest test/ -v                 # Tests verbeux"
echo "  pytest test/test_trivy_scan.py  # Tests spÃ©cifiques"
echo ""
echo "ğŸ“Š COUVERTURE"
echo "  make test-cov                   # Tests + couverture HTML"
echo "  pytest --cov=. --cov-report=term # Couverture dans le terminal"
echo "  open htmlcov/index.html         # Ouvrir le rapport HTML"
echo ""
echo "ğŸ” LINT & SYNTAXE"
echo "  make lint                       # VÃ©rifier tout"
echo "  python -m py_compile *.py       # VÃ©rifier syntaxe Python"
echo "  python -c \"import yaml; yaml.safe_load(open('action.yml'))\""
echo ""
echo "ğŸ§¹ NETTOYAGE"
echo "  make clean                      # Nettoyer fichiers temp"
echo ""
echo "ğŸ¯ TESTS SPÃ‰CIFIQUES"
echo "  pytest test/ -k \"test_extract\"  # Tests avec 'extract' dans le nom"
echo "  pytest test/ -m unit            # Tests avec marker 'unit'"
echo "  pytest test/ -x                 # ArrÃªter au premier Ã©chec"
echo "  pytest test/ --lf               # Re-run derniers Ã©checs"
echo ""
echo "ğŸ“ˆ CI/CD"
echo "  # Les tests s'exÃ©cutent automatiquement sur push/PR"
echo "  # Voir: .github/workflows/test.yml"
echo ""
echo "ğŸ’¡ ASTUCE"
echo "  # VÃ©rification rapide avant commit:"
echo "  make lint && make test"
echo ""
